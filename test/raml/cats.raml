#%RAML 0.8
---
title: Gatitos API
version: v1
baseUri: http:/localhost:8080/{version}/
mediaType: application/json
schemas:
  - cat: !include cat.schema.json
  - cats: !include cats.schema.json
  - error: !include error/error.schema.json
  - owner: !include owner.schema.json
  - genericMap: !include genericMap.schema.json
  - genericArray: !include genericArray.schema.json
  - referencedArray: !include referencedArray.schema.json
  - stringArray: !include stringArray.schema.json
  - widget: !include inlineRef/widget.schema.json
  - widgetInlineProperty: !include inlineRef/widgetInlineProperty.schema.json
resourceTypes:
  - collection:
      get:
        responses:
          200:
            body:
              schema: <<resourcePathName>>
        queryParameters:
          searchBy:
            displayName: Search
            type: string
            required: false

      post:
        responses:
          200:
            body:
              schema: <<resourcePathName | !singularize>>
        body:
          schema : <<resourcePathName | !singularize>>

  - member:
      get:
        responses:
          200:
            body:
              schema: <<resourcePathName | !singularize>>
        queryParameters:
          filterBy:
            type: string
          orderBy:
            type: string
          clientSecret:
            type: string


      put:
        responses:
          201:
            body:
              schema: <<resourcePathName | !singularize>>
        body:
          schema : <<resourcePathName | !singularize>>

/cats:
  displayName: Gatitos
  description: Compra, venta y renta de gatitos
  type: collection
  /{catId}:
    displayName: GatitoById
    description: Un gatito en especifico
    type: member
    /mapping:
      displayName: SingleContentTypeMapping
      get:
        responses:
          200:
            body:
              schema: cat
    /picture:
      displayName: GatitoByIdPicture
      post:
        body:
          multipart/form-data:
            formParameters:
              file:
                type: file
                required: true
        responses:
          200:
            body:
              schema: cat
    /webFormCat:
      displayName:  GatitopByIdForm
      post:
        body:
          application/x-www-form-urlencoded:
            formParameters:
              name:
                type: string
                required: true
        responses:
          200:
            body:
              schema: cat

/settings/{key}:
 displayName: Settings
 description: key, value service
 get:
   responses:
     200:
       body:
         schema: genericMap
 post:
  body:
    schema: genericMap
  responses:
    201:
      body:
        schema: genericMap
 put:
  body:
    schema: genericArray
  responses:
    201:
      body:
        schema: genericArray
 delete:
  body:
    application/json:
  responses:
    204:
      body:
        schema: "{}"

/arrayprimitives:
  displayName: ArrayPrimitives
  description: key, value service
  post:
    body:
      schema: stringArray
    responses:
      200:
        body:
          schema: stringArray

